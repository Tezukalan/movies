(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[5],{117:function(e,t,a){},122:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(79),r=a(0),c=a.n(r),o=a(60),i=a(67),l=a(73),u=a(156),s=a(157),d=a(158),m=a(120),v=a.n(m),p=a(168),f=a(2),g=(a(117),function(e){var t=e.movies,a=Object(f.g)();return c.a.createElement("div",{className:"grid"},c.a.createElement(u.a,{cellHeight:"auto",spacing:10,cols:4,className:"grid-list"},t.map((function(e){var t=e.poster_path?"".concat(i.f).concat(i.i).concat(e.poster_path):"".concat(i.d).concat(i.i,"/defaultPoster.jpg"),n="".concat(e.vote_count," Votes"),r=c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{value:e.vote_average/2,precision:.1,emptyIcon:c.a.createElement(v.a,{fontSize:"inherit"}),readOnly:!0}),c.a.createElement("span",{className:"grid-vote-count"},n));return c.a.createElement(s.a,{key:e.id,classes:{tile:"grid-tile",imgFullHeight:"grid-img"},onClick:function(){return t=e.id,void a.push("/movie/".concat(t));var t}},c.a.createElement("img",{src:t,alt:e.title}),c.a.createElement(d.a,{className:"grid-tile-bar",classes:{title:"grid-title",subtitle:"grid-subtitle"},title:e.title,subtitle:r}))}))))}),b=a(161),E=a(162),h=a(163),O=a(169),w=a(159),y=a(164),j=(a(122),function(e){var t=e.sortCriterion,a=e.onSelectChange,o=Object(r.useState)({sortCriterion:t}),i=Object(n.a)(o,2),l=i[0],u=i[1],s=c.a.createElement(w.a,{variant:"outlined"},c.a.createElement(O.a,{htmlFor:"sort-label"},"Sort by"),c.a.createElement(y.a,{native:!0,value:l.sortCriterion,onChange:function(e){u({sortCriterion:e.target.value}),a(e.target.value)},label:"Sort by",className:"header-sort",inputProps:{name:"sort",id:"sort"},"data-testid":"sort"},c.a.createElement("option",{value:"popularity.desc"},"Popularity"),c.a.createElement("option",{value:"vote_average.desc"},"Vote average"),c.a.createElement("option",{value:"vote_count.desc"},"Vote count"),c.a.createElement("option",{value:"revenue.desc"},"Revenue"),c.a.createElement("option",{value:"release_date.desc"},"Newest release date"),c.a.createElement("option",{value:"release_date.asc"},"Oldest release date "),c.a.createElement("option",{value:"primary_release_date.desc"},"Newest primary release date"),c.a.createElement("option",{value:"primary_release_date.asc"},"Oldest primary release date")));return c.a.createElement(b.a,{color:"inherit",position:"sticky"},c.a.createElement(E.a,null,c.a.createElement(h.a,{variant:"h6"},"MOVIES"),c.a.createElement("div",{className:"header-input"},s)))});t.default=function(){var e=1,t=Object(r.useRef)("popularity.desc"),a=Object(r.useState)(t.current),u=Object(n.a)(a,2),s=u[0],d=u[1],m=Object(r.useRef)(!1),v=Object(r.useState)(m.current),p=Object(n.a)(v,2),f=p[0],b=p[1],E=function(e){m.current=e,b(m.current)},h=Object(r.useRef)(1),O=Object(r.useState)(h.current),w=Object(n.a)(O,2),y=w[0],_=w[1],S=function(e){h.current=e,_(h.current)},C=Object(r.useReducer)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"reset",newMovies:null};return"concat"===t.type?e.concat(t.newMovies):[]}),[]),N=Object(n.a)(C,2),k=N[0],R=N[1],H=function(){var a="".concat(i.g,"?api_key=").concat(i.a,"&page=").concat(h.current,"&sort_by=").concat(t.current);E(!0),l.a.get(a).then((function(t){S(h.current+1),e=t.data.total_pages,R({type:"concat",newMovies:t.data.results}),E(!1)})).catch((function(){S(1),e=1,R(),E(!1)}))},F=function(){document.documentElement.offsetHeight-document.documentElement.scrollTop-window.innerHeight>2*window.innerHeight||m.current||y>e||H()};Object(r.useEffect)((function(){return H(),window.addEventListener("scroll",F),function(){window.removeEventListener("scroll",F)}}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,{sortCriterion:s,onSelectChange:function(e){S(1),function(e){t.current=e,d(t.current)}(e),R(),H()}}),c.a.createElement(g,{movies:k}),f&&c.a.createElement("div",{className:"loading"},c.a.createElement(o.a,null)))}},67:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"i",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return s})),a.d(t,"a",(function(){return d}));var n="https://api.themoviedb.org/3",r="http://image.tmdb.org/t/p/",c="/assets/images/",o="w500",i="w1280",l="w92",u="/discover/movie",s="/movie/",d="92b418e837b833be308bbfb1fb2aca1e"},73:function(e,t,a){"use strict";var n=a(83),r=a.n(n),c=a(67),o=r.a.create({baseURL:c.c});t.a=o}}]);
//# sourceMappingURL=5.0b8a7966.chunk.js.map