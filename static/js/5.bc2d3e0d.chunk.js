(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[5],{125:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(88),r=a(0),i=a.n(r),o=a(37),c=a(68),s=a(75),l=a(82),u=a(166),m=a(167),d=a(168),v=a(128),g=a.n(v),p=a(178),f=a(2),E=(a(125),function(e){var t=e.movies,a=Object(f.g)();return i.a.createElement("div",{id:"list",className:"grid"},i.a.createElement(u.a,{cellHeight:"auto",spacing:10,cols:4,className:"grid-list"},t.map((function(e){var t=e.poster_path?"".concat(s.f).concat(s.i).concat(e.poster_path):"".concat(s.d).concat(s.i,"/defaultPoster.jpg"),n="".concat(e.vote_count," Votes"),r=i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{value:e.vote_average/2,precision:.1,emptyIcon:i.a.createElement(g.a,{fontSize:"inherit"}),readOnly:!0}),i.a.createElement("span",{className:"grid-vote-count"},n));return i.a.createElement(m.a,{key:e.id,classes:{tile:"grid-tile",imgFullHeight:"grid-img"},onClick:function(){return t=e.id,void a.push("/movie/".concat(t));var t}},i.a.createElement("img",{src:t,alt:e.title}),i.a.createElement(d.a,{className:"grid-tile-bar",classes:{title:"grid-title",subtitle:"grid-subtitle"},title:e.title,subtitle:r}))}))))}),b=a(171),h=a(172),y=a(173),_=a(179),O=a(169),C=a(174),w=(a(130),function(e){var t=e.sortCriterion,a=e.onSelectChange,o=Object(r.useState)({sortCriterion:t}),c=Object(n.a)(o,2),s=c[0],l=c[1],u=i.a.createElement(O.a,{variant:"outlined"},i.a.createElement(_.a,{htmlFor:"sort-label"},"Sort by"),i.a.createElement(C.a,{native:!0,value:s.sortCriterion,onChange:function(e){l({sortCriterion:e.target.value}),a(e.target.value)},label:"Sort by",className:"header-sort",inputProps:{name:"sort",id:"sort"},"data-testid":"sort"},i.a.createElement("option",{value:"popularity.desc"},"Popularity"),i.a.createElement("option",{value:"vote_average.desc"},"Vote average"),i.a.createElement("option",{value:"vote_count.desc"},"Vote count"),i.a.createElement("option",{value:"revenue.desc"},"Revenue"),i.a.createElement("option",{value:"release_date.desc"},"Newest release date"),i.a.createElement("option",{value:"release_date.asc"},"Oldest release date "),i.a.createElement("option",{value:"primary_release_date.desc"},"Newest primary release date"),i.a.createElement("option",{value:"primary_release_date.asc"},"Oldest primary release date")));return i.a.createElement(b.a,{color:"inherit",position:"sticky"},i.a.createElement(h.a,null,i.a.createElement(y.a,{variant:"h6"},"MOVIES"),i.a.createElement("div",{className:"header-input"},u)))}),S=1,N=function(){return S=1,{type:"RESET"}};a(131),t.default=Object(o.b)((function(e){return{movies:e.moviesInfo.movies,nextPage:e.moviesInfo.nextPage,totalPages:e.moviesInfo.totalPages,sort:e.sort}}))((function(e){var t=e.dispatch,a=e.movies,o=e.nextPage,u=e.totalPages,m=e.sort,d=Object(r.useRef)(!1),v=Object(r.useState)(d.current),g=Object(n.a)(v,2),p=g[0],f=g[1],b=function(e){d.current=e,f(d.current)},h=function(e,a){var n=e||o,r=a||m,i="".concat(s.g,"?api_key=").concat(s.a,"&page=").concat(n,"&sort_by=").concat(r);b(!0),l.a.get(i).then((function(e){t(function(e,t){return{type:"CONCAT",newMovies:e,nextPage:S+=1,totalPages:t}}(e.data.results,e.data.total_pages)),b(!1)})).catch((function(){t(N()),b(!1)}))};Object(r.useEffect)((function(){0===a.length&&h()}),[]);return i.a.createElement("div",{id:"listContainer",className:"list-container",onScroll:function(){var e,t;e=o,t=u,document.getElementById("list").clientHeight-document.getElementById("listContainer").scrollTop-window.innerHeight+64>window.innerHeight||d.current||e>t||h()}},i.a.createElement(w,{sortCriterion:m,onSelectChange:function(e){t(function(e){return{type:"SET_SORT",sort:e}}(e)),t(N()),h(1,e)}}),i.a.createElement(E,{movies:a}),p&&i.a.createElement("div",{className:"loading"},i.a.createElement(c.a,null)))}))},75:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"i",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"a",(function(){return m}));var n="https://api.themoviedb.org/3",r="http://image.tmdb.org/t/p/",i="/assets/images/",o="w500",c="w1280",s="w92",l="/discover/movie",u="/movie/",m="92b418e837b833be308bbfb1fb2aca1e"},82:function(e,t,a){"use strict";var n=a(92),r=a.n(n),i=a(75),o=r.a.create({baseURL:i.c});t.a=o}}]);
//# sourceMappingURL=5.bc2d3e0d.chunk.js.map